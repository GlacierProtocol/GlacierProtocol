#!/bin/bash
set -e

##### Currently should fail! Since keys #3 and #4 are from a different wallet
# Test erroneously passes even before my segwit changes
# Key 3 was: cNYaH3onqrdMffpznhMMmrHn34fuTU59w5j8LM3H42VPcUsLeXy5

../../glacierscript.py --testnet=$1 create-withdrawal-data << INPUT
y
y
y
y
y
y
2N238gpicqPFfMz8sUN7pqqaJnYkgsC1WmL
52210277f15f22aeffaf3f3bc48a280a767f7c6af21276783c09ff3bcaabbece178113210203f642223bc751e125ab604ed20c544e933eb82a19201f90bda6236a9ddbedac21026895f3ed01c09025ba9cfab7b67d699e3ebaceada0beff70bc72c7f10df2d1c621039f3cb152130c241e01b9220a147f69f7111b830def35b510973ab47bb9af7ff654ae
mp1KQzUoDf9div7jjgon3UuqLThMSo3tmF
1
0200000001f4da79c62ffb3567eade68251e95cab24ec45b4f0229a5089b498ba3815180c1010000006a47304402201ca8b5b60f7313e40adcb971c1589d3d5a18954aaacf4a8b0cdd44532cb088530220207ee153b7e3923c44e8f211a197eaa94476de4901d105e4a094ef0575c2e2920121030fc1ecc44abae8040aa03249490cf32701e9974ccf16eec8c8e015b5dd56058ffeffffff023d1ffd00000000001976a9148214d56612d97c2fe0039350dd6e6d4293fa312388ac881300000000000017a914606fb72624603795d73b911a729d88f95f9b6ac887e8301300
4
cSfvoUsWWZ81M4qGYciPHdNxHXQxPEsXBdGWjYdchpisPabtiKVQ
cPWVKeCBjnv833Kayc6nczBbG4YqqbCucup3n5D68WPzBEfceBAQ
cNYaH3onqrdMffpznhMMmrHn34fuTU59w5j8LM3H42VPcUsLeXy5
cRoydfinDRzzRQJp5niqJWukSYTfPJQM6ytqGN6nzonaz1mafgwD
10
y
0.00000400
y
INPUT
